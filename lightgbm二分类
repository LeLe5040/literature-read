识别 用户贬损倾向，包括：
二分类（推荐 vs 贬损）；
三分类（推荐 / 中立 / 贬损）；
支持 跨期验证；
支持 多模型融合：主观模型、客观模型 → 博弈融合；
支持 特征选择 + 贝叶斯优化 + 自训练机制。


任务不仅仅是建一个贬损识别模型，而是设计一整套分层建模 + 
主客观分治 + 自训练增强 + 博弈融合的系统，解决实际中的标注不完整、用户主观异议、跨期泛化等复杂问题。
| 模块    | 内容                                               | 用途                               |
| ----- | ------------------------------------------------ | -------------------------------- |
| 特征准备  | `get_features()`                                 | 获取主客观数据、按CEI过滤、拼接KQI/TRAJ/POOR特征 |
| 标签处理  | `transform_value_2 / 3 / route_label_transform`  | 支持二分类 / 三分类 / 路由式标签              |
| 特征选择  | `VarianceThreshold + LightGBM + SelectFromModel` | 筛选重要特征（控制 max\_features）         |
| 模型调参  | `Optuna 贝叶斯优化`                                   | 自动选择最优超参（AUC或macro-AUC）          |
| 自训练机制 | `置信度伪标签 + 多轮迭代`                                  | 引入未标注样本，提升模型鲁棒性                  |
| 模型评估  | `evaluate_index + model_evaluation`              | 输出 accuracy / f1 / AUC 等指标       |
| 跨期验证  | `cross_period_verification()`                    | 在测试数据上验证泛化能力                     |
| 主客观划分 | `route_user()`                                   | 通过label或模型输出区分主观/客观用户            |
| 模型融合  | `game_strategy_verification()`                   | 主客观模型结果融合（包括概率校准 + 动态博弈）         |

流程
| 维度    | 实现                     |
| ----- | ---------------------- |
| 模型类型  | 二分类 / 三分类 LightGBM     |
| 特征处理  | 方差过滤 + Boost重要性        |
| 参数优化  | Optuna 贝叶斯优化           |
| 半监督学习 | 自训练（pseudo-label）      |
| 多模型   | 主观 / 客观分治              |
| 模型融合  | 置信度博弈（置信度 + 校准 + 分布分析） |
| 跨期泛化  | 支持不同时间/城市间泛化验证         |

1、特征准备
【数据融合】  从三大类数据库中抽取特征：
① KQI：用户网络质量指标；
② POOR_EVENT：弱覆盖、掉线、卡顿等事件特征；
③ TRAJECTORY：用户轨迹行为、空间活跃特征。

特征合并 相同的小区标签 中默认的z-score进行标签化
多源数据融合 ：用户的主观评分受多因素影响，单一维度（如KQI）不能反映用户对服务的整体感受
Q: 你们有没有考虑特征选择提前做降维？
A: 有，我们会在特征选择模块做特征筛选，前面尽量保留原始信息，避免提前压缩
Q: TRAJECTORY 特征  用户行为相关的特征数据，用户位置数据 个人属性数据  离家距离熵
。。。。。。


2、标签处理（transform_value + route_label_transform）




